"use strict";var showMyStackApp=angular.module("showMyStackApp",["ngCookies","ngResource","ngSanitize","ngAnimate","ngRoute","ui.router","ui.bootstrap","restangular","ngStorage","multi-select","checklist-model","angularjs-dropdown-multiselect","angularjs-github-url-input","btford.markdown"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("error",{url:"/error",templateUrl:"views/errors/server_down.html"}).state("unauthorized",{"abstract":!0,templateUrl:"views/authorize_template.html"}).state("unauthorized.login",{url:"/login",controller:"LoginController",templateUrl:"views/login.html"}).state("unauthorized.register",{url:"/register",controller:"RegisterController",templateUrl:"views/register.html"}).state("authorized",{"abstract":!0,templateUrl:"views/authorize_template.html"}).state("authorized.stacks",{url:"/",controller:"StacksController",templateUrl:"views/stacks.html",resolve:{stacks:["StacksService",function(a){return a.getAll()}],languages:["DataService",function(a){return a.getAllLanguages()}],tools:["DataService",function(a){return a.getAllTools()}],categories:["DataService",function(a){return a.getAllCategories()}]}}).state("authorized.profile",{url:"/profile",controller:"ProfileController",templateUrl:"views/profile.html"}).state("authorized.logout",{url:"/logout",controller:["User","$state",function(a,b){a.clearUser(),b.go("unauthorized.login")}]})}]).config(["RestangularProvider","serverUrl",function(a,b){a.setBaseUrl(b),a.addElementTransformer("users",!0,function(a){return a.addRestangularMethod("getMyProfile","get",""),a}),a.addElementTransformer("stacks",!0,function(a){return a.addRestangularMethod("add","post","add"),a.addRestangularMethod("getAll","get","all"),a}),a.addElementTransformer("language",!0,function(a){return a.addRestangularMethod("add","post","add"),a.addRestangularMethod("getAll","get","all"),a}),a.addElementTransformer("category",!0,function(a){return a.addRestangularMethod("add","post","add"),a.addRestangularMethod("edit","put","edit"),a.addRestangularMethod("getAll","get","all"),a}),a.addElementTransformer("tool",!0,function(a){return a.addRestangularMethod("add","post","add"),a.addRestangularMethod("getAll","get","all"),a}),a.addElementTransformer("github",!0,function(a){return a.addRestangularMethod("getFile","post","file"),a}),a.addElementTransformer("auth",!0,function(a){return a.addRestangularMethod("register","post","register"),a.addRestangularMethod("login","post","login"),a.addRestangularMethod("fbLogin","post","fbLogin"),a.addRestangularMethod("fbRegister","post","fbRegister"),a})}]).run(["Restangular","AlertsHandlerService","User","$rootScope","$state",function(a,b,c,d,e){d.$state=e,a.setErrorInterceptor(function(a){return 0===a.status?e.go("error"):401===a.status&&-1===a.config.url.indexOf("auth/login")?e.go("unauthorized.login"):b.addError(angular.isObject(a.data.message)&&"MongoError"===a.data.message.name?a.data.message.err:a.data.message),!1}),a.addFullRequestInterceptor(function(a,b,d,e,f){c.isAuthenticated()&&(f.Authorization="Bearer "+c.getAuthToken())}),d.$on("$stateChangeError",function(a,b,c,d,e,f){console.log(f)})}]);showMyStackApp.constant("serverUrl","http://showmystack.herokuapp.com/"),showMyStackApp.directive("alertsPanel",["AlertsHandlerService",function(a){return{restrict:"A",replace:!0,scope:{clearOnInit:"@"},template:'<div ng-repeat="alert in alertsArray" class="alert alert-{{alert.type}} alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="dismissAlert($index)">&times;</button>{{alert.message}}</div>',link:function(b){angular.isDefined(b.clearOnInit)&&"true"===b.clearOnInit&&a.clearAll(),b.alertsArray=a.getAlertsArray(),b.dismissAlert=a.clear}}}]),showMyStackApp.directive("smartList",["$filter","$document","$compile","$sce",function(a,b,c,d){return{restrict:"AE",scope:{checkedModel:"=",options:"=",extraSettings:"=",events:"="},transclude:!0,template:function(a){var b="";b+='<ul class="list-group"><li ng-show="settings.enableSearch" class="list-group-item"><input type="text" class="form-control" ng-model="searchModel" placeholder="Search..." /></li>',b+='<li class="list-group-item" ng-class="{\'list-group-item-info\': lastClickedId === getPropertyForObject(option,settings.idProp)}" data-ng-repeat="option in options | filter: searchModel"><div class="row"><div class="col-md-2" ng-show="settings.checkables" ng-click="setSelectedItem(getPropertyForObject(option,settings.idProp))" data-ng-class="{\'glyphicon glyphicon-unchecked\': !isChecked(getPropertyForObject(option,settings.idProp)),  \'glyphicon glyphicon-check\': isChecked(getPropertyForObject(option,settings.idProp))}"></div><div class="cursor-pointer" ng-class="{\'col-md-10\' : settings.checkables, \'col-md-12\': !settings.checkables, \'col-md-8\': settings.itemButtonText !== \'\' && settings.checkables, \'col-md-10\': settings.itemButtonText !== \'\' && !settings.checkables}" ng-click="itemClick(getPropertyForObject(option,settings.idProp))"><span ng-show="settings.itemPrefixProp !== \'\'" ng-bind-html="getPropertyForObject(option, settings.itemPrefixProp, true)"></span><span> {{getPropertyForObject(option, settings.displayProp)}}</span></div><div ng-show="settings.itemButtonText !== \'\'" class="col-md-2"><button class="btn btn-info btn-xs pull-right" ng-click="events.itemButtonAction(findFullItem(getPropertyForObject(option,settings.idProp)))" ng-bind-html="settings.itemButtonText"></button></div></div><div ng-transclude></div></li>',b+="</ul>",b+="</div>",a.html(b)},link:function(a){function b(b){var c={};return""===a.settings.externalIdProp?c[a.settings.idProp]=b:c[a.settings.externalIdProp]=b,c}a.checkedModel=a.checkedModel||[],a.lastClickedId=void 0,a.eventsCallbacks={itemClicked:angular.noop,itemChecked:angular.noop,itemUnchecked:angular.noop,itemButtonAction:angular.noop},a.eventsCallbacks=angular.extend(a.eventsCallbacks,a.events||{}),a.settings={displayProp:"label",idProp:"id",externalIdProp:"id",checkables:!0,uncheckItemOnClick:!0,enableSearch:!1,itemButtonText:"",itemPrefixProp:""},angular.extend(a.settings,a.extraSettings||[]),a.settings.itemButtonText=d.trustAsHtml(a.settings.itemButtonText),a.getPropertyForObject=function(a,b,c){return c=c||!1,a.hasOwnProperty(b)?c?d.trustAsHtml(a[b]):a[b]:""},a.findFullItem=function(b){var c={};return c[a.settings.idProp]=b,_.find(a.options,c)},a.itemClick=function(b,c){c=c||!1,c||a.setSelectedItem(b,a.settings.uncheckItemOnClick),a.eventsCallbacks.itemClicked(a.findFullItem(b)),a.lastClickedId=b},a.setSelectedItem=function(c,d){d=d||!1;var e=b(c);if(a.settings.checkables){var f=-1!==_.findIndex(a.checkedModel,e);if(!d&&f)a.checkedModel.splice(_.findIndex(a.checkedModel,e),1);else if(!f)if(c!==a.lastClickedId&&a.itemClick(c,!0),""===a.settings.externalIdProp){var g=b(c),h=_.find(a.options,g);a.checkedModel.push(h)}else a.checkedModel.push(e)}},a.getModelForObject=function(c){return _.find(a.checkedModel,b(c))},a.isChecked=function(c){return-1!==_.findIndex(a.checkedModel,b(c))}}}}]),showMyStackApp.service("AuthService",["Restangular","User",function(a,b){var c=a.all("auth");this.register=function(a){return c.register(a)},this.login=function(a){var d=c.login(a);return d.then(function(a){b.setUserFromResponse(a)}),d}}]),showMyStackApp.service("User",["$localStorage","Restangular",function(a,b){this.$storage=a,this.$storage.userDetails,this.alerts=[];var c=b.all("users");this.getAuthToken=function(){return angular.isDefined(this.$storage.userDetails)&&angular.isDefined(this.$storage.userDetails.authToken)?this.$storage.userDetails.authToken:""},this.getUserProfile=function(){return c.getMyProfile()},this.getUser=function(){return this.$storage.userDetails},this.setUserFromResponse=function(a){angular.isUndefined(this.$storage.userDetails)&&(this.$storage.userDetails={}),this.$storage.userDetails.user=a.user,this.$storage.userDetails.authToken=a.access_token,this.$storage.userDetails.isLoggedIn=!0},this.clearUser=function(){delete this.$storage.userDetails,this.$storage.userDetails},this.isAuthenticated=function(){return angular.isDefined(this.$storage.userDetails)&&null!==this.$storage.userDetails},this.getEmail=function(){return this.$storage.userDetails.user.email}}]),showMyStackApp.service("AlertsHandlerService",["$rootScope",function(a){var b=this;a.alerts=[],this.addError=function(a){b.add(a,"danger")},this.addInfo=function(a){b.add(a,"info")},this.addWarning=function(a){b.add(a,"warning")},this.addSuccess=function(a){b.add(a,"success")},this.add=function(b,c){a.alerts.push({message:b,type:c})},this.getAlertsArray=function(){return a.alerts},this.clear=function(b){a.alerts.splice(b,1)},this.clearAll=function(){a.alerts.splice(0,a.alerts.length)}}]),showMyStackApp.service("StacksService",["Restangular",function(a){var b=a.all("stacks");this.add=function(a){return b.add(a)},this.edit=function(a,c){return b.customPUT(c,"edit/"+a)},this.getAll=function(){return b.getAll()},this.getById=function(a){return b.one("getById",a).get()},this.getByIdFull=function(a){return b.one("getStack",a).get()}}]),showMyStackApp.service("GithubService",["Restangular",function(a){var b=a.all("github");this.getRepoInfo=function(a){return b.one("repo",a.user).one(a.repo).get()},this.getRepoTags=function(a){return b.one("tags",a.user).one(a.repo).get()},this.getReadme=function(a){return b.one("readme",a.user).one(a.repo).get()},this.getFileContent=function(a){return b.getFile(a)}}]),showMyStackApp.service("DataService",["Restangular",function(a){var b=a.all("language"),c=a.all("category"),d=a.all("tool");this.addLanguage=function(a){return b.add(a)},this.addCategory=function(a){return c.add(a)},this.editCategory=function(a,b){return c.customPUT(b,"edit/"+a)},this.addTool=function(a){return d.add(a)},this.getAllLanguages=function(){return b.getAll()},this.getAllTools=function(){return d.getAll()},this.getAllCategories=function(){return c.getAll()}}]),showMyStackApp.service("BowerService",["Restangular",function(a){var b=a.all("bower");this.getBowerPackageInfo=function(a){return b.one(a).get()}}]),showMyStackApp.controller("RegisterController",["$scope","AuthService","AlertsHandlerService",function(a,b,c){a.user={email:"",password:""},a.register=function(){c.clearAll(),b.register(a.user).then(function(){c.addSuccess("Successfully registered!")})}}]),showMyStackApp.controller("LoginController",["$scope","AuthService","AlertsHandlerService","$state",function(a,b,c,d){a.user={username:"",password:""},a.login=function(){c.clearAll(),b.login(a.user).then(function(){d.go("authorized.stacks")})}}]),showMyStackApp.controller("HeaderController",["$scope","User",function(a,b){a.userDetails=b.getUser()}]),showMyStackApp.controller("ProfileController",["$scope","User",function(a,b){a.userProfile={},b.getUserProfile().then(function(b){a.userProfile=b})}]),showMyStackApp.controller("StacksController",["$scope","StacksService","GithubService","AlertsHandlerService","languages","$filter","DataService","$state","$modal","categories","stacks","tools",function(a,b,c,d,e,f,g,h,i,j,k,l){a.stacks=k,a.categories=j,a.languages=e,a.tools=l,a.filteredCategories=[],a.filteredTools=[],a.selectedLang=void 0,a.selectedCat=void 0,a.checkedStacksModel=[],a.checkedLangsModel=[],a.checkedCatsModel=[],a.checkedToolsModel=[],a.stacksListSettings={idProp:"_id",displayProp:"title",externalIdProp:"",checkables:!1,enableSearch:!0},a.langsListSettings={idProp:"_id",displayProp:"langName",externalIdProp:"lang"},a.catsListSettings={idProp:"_id",displayProp:"categoryName",externalIdProp:"",checkables:!1,enableSearch:!0,itemButtonText:'<span class="glyphicon glyphicon-edit"></span>',itemPrefixProp:"listPrefix"},a.toolsListSettings={idProp:"_id",displayProp:"toolName",externalIdProp:"tool",enableSearch:!0,itemButtonText:'<span class="glyphicon glyphicon-info-sign"></span>'},a.stacksListEvents={itemClicked:function(b){a.selectedStack=b,a.checkedLangsModel=a.selectedStack.languages,a.selectedCat=void 0,a.selectedLang=void 0}},a.langsListEvents={itemClicked:function(b){a.selectedLang=b;var c=f("filter")(a.selectedStack.languages,{lang:a.selectedLang._id})[0];angular.isDefined(c)&&(angular.isUndefined(c.tools)&&(c.tools=[]),a.checkedToolsModel=c.tools)}},a.catsListEvents={itemClicked:function(b){a.selectedCat=b},itemButtonAction:function(b){a.addMissingCategory(b)}},a.toolsListEvents={itemButtonAction:function(a){i.open({templateUrl:"views/tool_info.html",controller:"ToolInfoController",resolve:{tool:function(){return a}}})}},a.rebuildFilteredCategories=function(b){var c=[];angular.forEach(a.categories,function(d){(angular.isUndefined(d.parentCategory)||null===d.parentCategory)&&(f("filter")(d.languages,b._id).length>0&&(d.listPrefix="",d.childs=[],c.push(d)),angular.forEach(f("filter")(a.categories,{parentCategory:d._id}),function(a){a.listPrefix='<img src="images/child_icon.png" />',d.childs.push(a._id),c.push(a)}))}),a.filteredCategories=c},a.rebuildFilteredTools=function(b,c){var d=[];angular.forEach(a.tools,function(b){if(angular.isDefined(c)){var e=f("filter")(b.categories,function(a){return a===c._id||_.contains(c.childs,a)});b.language===a.selectedLang._id&&e.length>0&&d.push(b)}}),a.filteredTools=d},a.$watch("selectedLang",function(b){angular.isDefined(b)&&(a.rebuildFilteredCategories(b),angular.isDefined(a.selectedCat)&&a.rebuildFilteredTools(b,a.selectedCat))}),a.$watch("selectedCat",function(b){angular.isDefined(b)&&a.rebuildFilteredTools(a.selectedLang,b)}),a.addMissingCategory=function(b){b=b||null;var c=i.open({templateUrl:"views/add_missing_category.html",controller:"AddMissingCategoryController",resolve:{category:function(){return b},languages:function(){return a.languages},languageId:function(){return a.selectedLang._id},categories:function(){return a.categories}}});c.result.then(function(c){null===b?a.categories.push(c):angular.extend(b,c),a.rebuildFilteredCategories(a.selectedLang)})},a.addMissingTool=function(b){b=b||{};var c=i.open({templateUrl:"views/add_missing_tool.html",controller:"AddMissingToolController",resolve:{languageId:function(){return angular.isUndefined(a.selectedLang)?null:a.selectedLang._id},baseObj:function(){return b},languages:function(){return a.languages},categoryId:function(){return angular.isUndefined(a.selectedCat)?null:a.selectedCat._id},categories:function(){return a.categories}}});c.result.then(function(b){a.tools.push(b),a.rebuildFilteredTools(a.selectedLang,a.selectedCat)})},a.addNewStack=function(){var b=i.open({templateUrl:"views/add_stack.html",controller:"AddStackController",resolve:{tools:function(){return a.tools},missingToolHandler:function(){return a.addMissingTool}}});b.result.then(function(b){a.stacks.push(b)})},a.getToolsCount=function(a){var b=0;return angular.forEach(a,function(a){angular.isDefined(a.tools)&&(b+=a.tools.length)}),b},a.$watch("selectedStack",function(b){angular.isDefined(b)&&a.saveStack()},!0),a.saveStack=function(){var c=angular.copy(a.selectedStack);delete c._id,delete c.createdBy,delete c.updatedBy,delete c.createdAt,delete c.updatedAt,delete c.__v,b.edit(a.selectedStack._id,c)}}]),showMyStackApp.controller("AdminController",["$scope","DataService","AlertsHandlerService","languages","frameworks","categories","$filter","GithubService",function(a,b,c,d,e,f,g,h){function i(a){a.ticked=!1,a.hasOwnProperty("icon")&&(a.icon='<img class="data-image img-rounded" src="'+a.icon+'" />')}a.languages=angular.copy(d),a.categories=angular.copy(f),a.frameworks=angular.copy(e),a.gitHubInfo=null,a.gitHubInfoTags=null,a.$watch("addExtensionObj.githubUrl",function(b){a.handleGhUrlChange(b,function(b){a.addExtensionObj.extensionName=b.name},function(b){a.addExtensionObj.versions=_.pluck(b,"name")})}),a.$watch("addFrameworkObj.githubUrl",function(b){a.handleGhUrlChange(b,function(b){a.addFrameworkObj.frameworkName=b.name},function(b){a.addFrameworkObj.versions=_.pluck(b,"name")})}),a.handleGhUrlChange=function(b,c,d){if(angular.isDefined(b)&&""!==b){var e=/([A-Za-z0-9]+@|http(|s)\:\/\/)([A-Za-z0-9.]+)(:|\/)([A-Za-z0-9\-\/]+)(:|\/)(.*)(\.git)?/g.exec(b);null!==e&&(h.getRepoInfo({user:e[5].replace("/",""),repo:e[7].replace("/","")},function(b){a.gitHubInfo=b.data,c(a.gitHubInfo)}),h.getRepoInfo({user:e[5].replace("/",""),repo:e[7].replace("/",""),spec:"tags"},function(b){a.gitHubInfoTags=b.data,d(a.gitHubInfoTags)}))}},angular.forEach(a.categories,function(a){i(a)}),angular.forEach(a.frameworks,function(a){i(a)}),angular.forEach(a.languages,function(a){i(a),angular.forEach(a.frameworks,function(a){i(a),angular.forEach(a.versions,function(a){i(a)})})}),a.addLangObj={langName:"",icon:""},a.addCategoryObj={categoryName:"",languages:[]},a.addExtensionObj={extensionName:"",githubUrl:"",versions:[],frameworks:[],categories:[]},a.addFrameworkObj={frameworkName:"",icon:"",githubUrl:"",languageId:-1,versions:[]},a.addExtensionSelectedLangId=null,a.relevateCategories=[],a.relevantFrameworks=[],a.$watch("languages",function(){var b=g("filter")(a.languages,{ticked:!0});a.addExtensionSelectedLangId=_.pluck(b,"_id")[0],a.relevateCategories=g("filter")(a.categories,function(b){return-1!==_.indexOf(b.languages,a.addExtensionSelectedLangId)}),a.relevantFrameworks=g("filter")(a.frameworks,{languageId:a.addExtensionSelectedLangId})},!0),a.addCategory=function(){var d=angular.copy(a.addCategoryObj),e=g("filter")(a.languages,{ticked:!0});d.languages=_.pluck(e,"_id"),b.addCategory(d).then(function(){c.addSuccess("Category Successfully Added!")})},a.addExtension=function(){var d=angular.copy(a.addExtensionObj);d.categories=_.pluck(g("filter")(a.relevateCategories,{ticked:!0}),"_id"),d.frameworks=_.pluck(g("filter")(a.relevantFrameworks,{ticked:!0}),"_id");var e=[];angular.forEach(d.versions,function(a){e.push({versionNumber:a,ghUrl:""})}),d.versions=e,b.addExtension(d).then(function(){c.addSuccess("Category Successfully Added!")})},a.addLang=function(){b.addLanguage(a.addLangObj).then(function(){c.addSuccess("Language Successfully Added!")})},a.addFramework=function(){var d=angular.copy(a.addFrameworkObj),e=[];angular.forEach(d.versions,function(a){e.push({versionNumber:a,ghUrl:""})}),d.versions=e,b.addFramework(d).then(function(){c.addSuccess("Framework Successfully Added!")})}}]),showMyStackApp.controller("AddMissingToolController",["$scope","$modalInstance","GithubService","DataService","languageId","categories","categoryId","languages","baseObj",function(a,b,c,d,e,f,g,h,i){a.categories=f,a.addToolObj={},a.selectedCategories=[],a.selectedLanguage=e,a.languages=h,a.multiselectDropdownLangsOptions={displayProp:"langName",idProp:"_id",externalIdProp:"id"},a.selectedLanguages=[],a.addToolObj=angular.extend({},i),null!==g&&a.selectedCategories.push({id:g}),a.multiselectDropdownCatsOptions={displayProp:"categoryName",idProp:"_id",externalIdProp:"id"},a.ghModel={},a.$watch("ghModel",function(b){angular.isDefined(b.url)&&(c.getRepoInfo({user:b.username,repo:b.repo}).then(function(b){angular.isDefined(a.addToolObj.toolName)||(a.addToolObj.toolName=b.data.name||"")}),c.getRepoTags({user:b.username,repo:b.repo}).then(function(b){a.addToolObj.versions=_.pluck(b||[],"name")}))},!0),a.addTool=function(){var c=angular.copy(a.addToolObj);c.language=null===a.selectedLanguage?_.pluck(a.selectedLanguages,"id")[0]:e,c.categories=_.pluck(a.selectedCategories,"id");var f=[];angular.forEach(c.versions,function(a){f.push({versionNumber:a,ghUrl:""})}),c.versions=f,d.addTool(c).then(function(a){b.close(a)})},a.cancel=function(){b.dismiss()}}]),showMyStackApp.controller("AddMissingCategoryController",["$scope","$modalInstance","DataService","languages","languageId","category","categories","$filter",function(a,b,c,d,e,f,g,h){a.fatherCategories=h("filter")(g,function(a){return angular.isUndefined(a.parentCategory)||null===a.parentCategory}),a.fatherCategories.unshift({categoryName:"No Parent",_id:null}),a.multiselectDropdownParentOptions={displayProp:"categoryName",idProp:"_id",externalIdProp:"_id",selectionLimit:1},a.isEdit=!1,a.actionName="Add Missing",null!==f?(a.addCategoryObj=f,a.selectedLanguages=[],angular.forEach(f.languages,function(b){a.selectedLanguages.push({_id:b})}),a.isEdit=!0,a.actionName="Edit",a.selectedParentCategory={}):(a.addCategoryObj={},a.selectedLanguages=[{_id:e}],a.selectedParentCategory={_id:null}),a.languages=d,a.multiselectDropdownLangsOptions={displayProp:"langName",idProp:"_id",externalIdProp:"_id"},a.addCategory=function(){var d=angular.copy(a.addCategoryObj);d.parentCategory=a.selectedParentCategory._id,d.languages=null===d.parentCategory?_.pluck(a.selectedLanguages,"_id"):h("filter")(a.fatherCategories,{_id:d.parentCategory}).languages,a.isEdit?(delete d._id,delete d.createdAt,delete d.listPrefix,delete d.childs,delete d.updatedAt,delete d.__v,c.editCategory(a.addCategoryObj._id,d).then(function(a){b.close(a)})):c.addCategory(d).then(function(a){b.close(a)})},a.cancel=function(){b.dismiss()}}]),showMyStackApp.controller("AddStackController",["$scope","$modalInstance","GithubService","StacksService","tools","BowerService","$modal","missingToolHandler",function(a,b,c,d,e,f,g,h){a.addStackObj={},a.ghModel={},a.isLoadingCheckDeps=!1,a.bowerPackages=[],a.$watch("ghModel",function(b){angular.isDefined(b.url)&&c.getRepoInfo({user:b.username,repo:b.repo}).then(function(d){console.log(d),c.getFileContent({user:b.username,repo:b.repo,filename:"bower.json"}).then(function(b){if(angular.isDefined(b.content)){var c=angular.fromJson(atob(b.content));angular.isDefined(c.dependencies)&&(a.isLoadingCheckDeps=!0,angular.forEach(c.dependencies,function(b,d){f.getBowerPackageInfo(d).then(function(b){a.bowerPackages.push(b),a.bowerPackages.length===Object.keys(c.dependencies).length&&(a.isLoadingCheckDeps=!1)})}))}})})},!0),a.addStack=function(){d.add(a.addStackObj).then(function(a){b.close(a)})},a.addMissingTool=function(a){h({githubUrl:a.url,toolName:a.name})},a.cancel=function(){b.dismiss()}}]),showMyStackApp.controller("ToolInfoController",["$scope","$modalInstance","tool","githubUrlService","GithubService",function(a,b,c,d,e){if(a.tool=c,a.toolReadme="",angular.isDefined(a.tool.githubUrl)){var f=d.decodeUrl(a.tool.githubUrl);e.getReadme({user:f.username,repo:f.repo}).then(function(b){a.toolReadme=atob(b.content)})}a.cancel=function(){b.dismiss()}}]);